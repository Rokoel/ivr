# Шевелев Валентин - "Шахматы для троих"
# Пользовательские сценарии

### Группа: 10 - МИ - 2
### Электронная почта: rokoelvel@gmail.com
### VK: www.vk.com/rokoelakk
### TG: @rokoel
### Discord: Rokoel#9384


### [ Сценарий 1 - Использование сайта неавторизованным пользователем ]

1. Пользователь может просмотреть главную страницу сайта с информацией и выбрать, куда перейти далее
2. Если пользователь выберет страницу с правилами, то необходимо будет перекинуть его на страницу, содержащую правила тройных шахмат
3. Если пользователь выберет страницу с информацией о рейтинговой системе и другой информации о системе на сайте, то необходимо будет перекинуть его на эту страницу
4. Если пользователь выберет страницу со списком статей (о новостях на сайте), необходимо будет перекинуть его на эту страницу
5. Если пользователь выберет страницу с дебютами, загруженными другими пользователями, то необходимо перекинуть его на эту страницу
6. Если пользователь нажмет на какую-то ссылку, требующую авторизации, или на кнопку входа, необходимо будет перейти к сценарию 2 - Входу в аккаунт
7. Если пользователь нажмет на кнопку регистрации, необходимо будет перейти к сценарию 3 - Регистрации пользователя

### [ Сценарий 2 - Вход пользователя ]

1. Пользователь вводит логин, с которым он будет заходить в систему
2. Пользователь вводит пароль, с которым он будет заходить в систему
3. Если такого логина не существует, то необходимо вывести информацию об этом пользователю
4. Если такой логин существует, но пароль неверный, необходимо вывести информацию об этом пользователю
5. Если пользователь нажмет на кнопку "Восстановить пароль", необходимо будет запросить его почту, а затем, если такая почта существует в системе, то прислать на эту почту новый пароль, а если нет, то сообщить об этом пользователю
6. Если все введено корректно, необходимо будет выполнить вход и перейти к сценарию 4 - Использование сайта авторизованным пользователем
7. Если пользователь нажмет на кнопку "Нет аккаунта"/"Регистрация", необхожимо будет перейти к сценарию 3 - Регистрации пользователя

### [ Сценарий 3 - Регистрация пользователя ]

1. Пользователь вводит логин, с которым он будет заходить в систему
2. Пользователь вводит пароль, с которым он будет заходить в систему
3. Пользователь вводит адрес электронной почты, который будет использоваться в системе
4. Если выбранный логин уже существует в системе, то пользователю сообщается об этом и предлагается придумать новый логин
5. Если пароль содержит менее 6 символов, система сообщает, что пароль должен быть от 6 до 30 символов и пользователь должен придумать новый пароль
6. Если введённый адрес электронной почты не соответствует формату, то система выводит сообщение об ошибке и просит ввести адрес ещё раз
7. Если все введённые данные соответствуют требованиям регистрации, то система отправляет на почту письмо для подтверждения почты
8. После подтверждения почты запускается Сценарий 4 - Использование сайта авторизованным пользователем

### [ Сценарий 4 - Использование сайта авторизованным пользователем ]

1. Если авторизованный пользователь выбирает ссылку на страницу, не требующую авторизации, то далее выполняется соответствующая часть сценария 1 - Использования сайта неавторизованным пользователем
2. Если пользователь выбирает кнопку "Профиль", то необходимо перейти к сценарию 5 - Просмотр и модификация профиля пользователя
3. Если пользователь выбирает кнопку "Играть", необходимо перейти к сценарию 6 - Игра 1vs1vs1
4. Если пользователь выбирает кнопку "Добавить дебют" на странице добавления дебютов, необходимо перейти к сценарию 7 - Добавление и модификация дебюта
5. Если пользователь нажимает на конкретную игру в истории игр, необходимо перейти к пункту 5 сценария 5
6. Если пользователь нажимает на кнопку "Удалить аккаунт", необходимо перейти к пункту 6 сценария 5
7. Если пользователь нажимает кнопку "Выйти", то нужно выйти из аккаунта и перейти к сценарию 1 - Использование сайта неавторизованным пользователем

### [ Сценарий 5 - Просмотр и модификация профиля пользователя ]

1. Если пользователь выбрал кнопку "Сменить аватар", необходимо дать возможность пользователю загрузить на сайт картинку и заменить на нее аватар пользователя
2. Если пользователь захотел сменить тему доски и фигур, необходимо сохранить на устройстве пользователя соответствующую информацию
3. Если пользователь поменял логин, необходимо сохранить новый логин на сервере
4. Если пользователь поменял пароль, необходимо сохранить новый пароль на сервере
5. Если пользователь выбрал конкретную игру в истории игр, необходимо показать пользователю эту партию с возможностью выбрать конкретный ход и отображением конкретной позиции
6. Если пользователь нажал кнопку "Удалить аккаунт", необходимо спросить, уверен ли пользователь, и если да, то удалить аккаунт и перейти к сценарию 1
7. Если пользователь нажал кнопку "Выйти", то нужно выйти из аккаунта и перейти к сценарию 1

### [ Сценарий 6 - Игра 1vs1vs1 ]

1. Подбираем двух самых близких по рейтингу соперников, которые сейчас тоже ищут игру
2. Случайно распределяем порядок ходов (т. е. роли игрока за "Белых", "Черных" и "Красных")
3. Отрисовываем доску в соответствии с выбранной темой и запускаем таймер первого игрока; далее при смене хода запускаем и останавливаем таймеры соответствующих игроков
4. Если игрок выбирает фигуру, показываем, куда она может переместиться в соответствии с правилами тройных шахмат
5. Если игрок выбирает легальное поле после выбора фигуры, то сохраняем ход и передаем данные остальным игрокам
6. Если игрок выбирает нелегальное поле после выбора фигуры, не даем разместить фигуру и сообщаем об ошибке пользователю
7. Если игрок получает мат, высвечиваем его рейтинг и выбор между выходом из партии и возможностью досмотреть партию
8. Если игрок выбирает первый вариант в пункте 7, переходим к сценарию 4, если второй - даем досмотреть партию, далее высвечиваем рейтинг и даем возможность выйти из партии

### [ Сценарий 7 - Добавление и модификация дебюта ]

1. Если пользователь открывает конкретный дебют и выбирает "Добавить ответвление", ему предоставляется возможность добавить ходы в партию, как в обычной партии, начиная с определенного места в партии
2. Затем пользователь дает название вариации
3. Если пользователь нажимает "Добавить дебют", ему предоставляется возможность добавить ходы в партию, как в обычной партии, и менять их по своему усмотрению
4. Затем пользователь дает название дебюту
5. Если пользователь нажимает "Список моих дебютов", ему открывается список созданных им вариаций или дебютов
6. Далее пользователь может удалить, просмотреть или отредактировать дебют
7. Если пользователь нажимает кнопку лайка на каком-либо дебюте, он может увеличить репутацию этого дебюта (и его автора) на единицу
